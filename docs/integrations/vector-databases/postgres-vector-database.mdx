---
slug: "/integrations/vector-databases/postgres-vector-database"
description: "Learn how to integrate Postgres Vector Database with your Orkes Conductor cluster."
---

# Postgres Vector Database Integration with Orkes Conductor

To use system AI tasks in Orkes Conductor, you must integrate your Conductor cluster with the necessary vector database providers. This guide explains how to integrate Postgres Vector Database (pgvector) with Orkes Conductor. Here’s an overview:

1. Get the required credentials from pgvector.
2. Configure a new Postgres Vector Database integration in Orkes Conductor.
3. Add indexes to the integration.
4. Set access limits to the vector database to govern which applications or groups can use them.

## Step 1: Get the pgvector credentials

Set up [pgvector](https://github.com/pgvector/pgvector?tab=readme-ov-file) and retrieve the following database credentials:

- Database username
- Password
- Database URL

## Step 2: Add an integration for Postgres Vector Database

After obtaining the credentials, add a Postgres Vector Database integration to your Conductor cluster.

**To create a Postgres Vector Database integration:**

1. Go to **Integrations** from the left navigation menu on your Conductor cluster.
2. Select **+ New integration**.
3. In the **Vector Databases** section, choose **Postgres Vector Database**.
4. Select **+ Add** and enter the following parameters:

| Parameters | Description |
| ---------- | ----------- | 
| Integration name | A name for the integration. |
| Postgres Database User | The database username. |
| Postgres Database Password | The password associated with the database username. |
| Postgres Database URL |The database URL, which is the JDBC connection string for the postgres database. | 
| Embedding dimensions | The number of dimensions in the embeddings. The embedding dimensions often depend on the AI model used to generate the embeddings. | 
| Distance metric | The distance metric, which is a metric to measure the similarity or distance between vectors. Supported values:<ul><li>Cosine Similarity</li><li>Euclidean Distance</li><li>Inner Product</li></ul> |
| Indexing method | The indexing method. Supported methods:<ul><li>hnsv (Hierarchical Navigable Small World graphs)</li><li>ivfflat (Inverted File Flat)</li></ul> |
| Number of inverted lists to create for ivfflat index | If *ivfflat* is selected as the indexing method, enter the number of inverted lists to create when using this indexing method. |
| Description | A description of the integration. | 

<p align="center"><img src="/content/img/create-new-postgres-integration.png" alt="Postgres Vector Database Integration with Orkes Conductor
" width="40%" height="auto"></img></p>

5. (Optional) Toggle the **Active** button off if you don’t want to activate the integration instantly.
6. Select **Save**.

## Step 3: Add Postgres Vector Database indexes

Once you’ve integrated Postgres Vector Database, the next step is to configure specific indexes.

**To add an index to the integration:**

1. Go to the **Integrations** page and select the **+** button next to the integration created.

<p align="center"><img src="/content/img/create-new-pgvector-integration-index.png" alt="Create Indexes for Postgres Integration" width="100%" height="auto"></img></p>

2. Select **+ New Index**.
3. Enter the **Index name** and a **Description**. 

<p align="center"><img src="/content/img/create-new-postgres-integration-index-model.png" alt="Create Indexes for Postgres Integration Model" width="60%" height="auto"></img></p>

4. (Optional) Toggle the **Active** button off if you don’t want to activate the index instantly.
5. Select **Save**.

This saves the index for future use in AI tasks within Orkes Conductor.

## Step 4: Set access limit to integration

Once the integration is configured, set access controls to manage which applications or groups can use the Pinecone databases.

**To provide access to an application or group:**

1. Go to **Access Control** > **Applications** or **Groups** from the left navigation menu on your Conductor cluster.
2. Create a new group/application or select an existing one.
3. In the **Permissions** section, select **+ Add Permission**.
4. In the **Integration** tab, select the required vector database providers and toggle the necessary permissions.
5. Select **Add Permissions**. 

<p align="center"><img src="/content/img/add-integration-permission-for-postgresvector-db.png" alt="Add Permissions for Postgres Vector Database Integration" width="70%" height="auto"></img></p>

The group or application can now access the vector database according to the configured permissions.
With the integration in place, you can now create workflows using [AI/LLM tasks](https://orkes.io/content/category/reference-docs/ai-tasks).

:::info
To store data in a vector database, an embedding is to be generated by an AI model. You must also integrate an [AI model provider](https://orkes.io/content/category/integrations/ai-llm) of your choice to use this integration in workflows.
:::

## More resources

- [AI Orchestration](https://orkes.io/content/ai-orchestration)
- [Using AI Models or LLMs](https://orkes.io/content/developer-guides/using-llms-in-your-orkes-conductor-workflows)
- [Using Vector Databases](https://orkes.io/content/developer-guides/using-vector-databases-in-your-orkes-conductor-workflows)