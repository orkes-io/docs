---
slug: "../faqs/task-cache-output"
description: "Learn how to cache task outputs for quick access."
---

# Caching Task Outputs

You can cache task outputs to reuse them in subsequent workflow executions. When you enable caching, the system stores the task output for a specified duration and reuses it when the same task runs again with matching input parameters. This feature can be configured in the **task configuration**.

## Parameters

Configure the following parameters to enable task caching in your task configuration.

| Parameter            | Description                                                                                                                                                                                                                                                            | Required/ Optional |
| -------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ |
| cacheConfig.**key**        | The cache key is a unique identifier for the cached output and must be constructed exclusively from the task’s input parameters. <br/><br/> It can be a string concatenation that contains the task’s input keys, such as `${uri}-${method}` or `re_${uri}_${method}`. | Required.          |
| cacheConfig.**ttlInSecond**| The time to live in seconds, which is the duration for the output to be cached.                                                                                                                                                                                        | Required.          |

## Configuration

To configure caching, add the `cacheConfig` object to your task configuration:

```json
// task configuration    
"cacheConfig": {
       "key": "someKey",
       "ttlInSecond": "2500"
     }
```

## Task behavior with caching

Before a task is scheduled, the server checks if there is cached output for the given task definition name by matching the cache key. If a match is found, the task is not scheduled, and the cached output is used to complete it.

If no cached output is found, the task is scheduled as usual. When the task is completed successfully, the output is cached against the cache key for the duration specified.

## Enable caching in the UI

**To cache task output:**

1. Go to **Definitions** > **Workflow** from the left navigation menu on your Conductor cluster.
2. Select a workflow.
3. In the visual workflow editor, select the task you want to cache.
4. Turn on the **Cache output** toggle.
5. Enter the **Cache key** and  **TTL (in seconds).** 

<p align="center">
  <img
    src="/content/img/dev-guides/caching_task_outputs-UI_screen.png"
    alt="Configuring cache output in UI."
    width="100%"
    height="auto"
  ></img>
</p>


## Example

### Cache output using task input parameters

The following example shows how to cache task output using the task's input parameters `url` and `mediaType`.

```json
// workflow definition
{
  ...
  "tasks": [
    {
      "name": "get_document",
      "taskReferenceName": "get_document_ref",
      "inputParameters": {
        "url": "${workflow.input.url}",
        "mediaType": "application/pdf"
      },
      "type": "GET_DOCUMENT",
      "cacheConfig": {
        "key": "${url}-${mediaType}",
        "ttlInSecond": 60
      }
    }
  ],
  "inputParameters": [
    "url"
  ],
  "outputParameters": {},
  "schemaVersion": 2
}
```

### Cache output using workflow inputs

To include workflow inputs in the cache key, first pass them to the task's `inputParameters`. The following example passes `userId` from the workflow input to the task:

```json
{
  ...
  "tasks": [
    {
      "name": "get_document",
      "taskReferenceName": "get_document_ref",
      "inputParameters": {
        "url": "${workflow.input.url}",
        "mediaType": "application/pdf",
        "id": "${workflow.input.userId}"
      },
      "type": "GET_DOCUMENT",
      "cacheConfig": {
        "key": "${url}-${id}",
        "ttlInSecond": 60
      }
    }
  ],
  "inputParameters": [
    "url",
    "userId"
  ],
  "outputParameters": {},
  "schemaVersion": 2
}
```

### Cache output using variables from previous tasks

The following example shows how to use a variable from a Set Variable task in the cache key:

```json
// workflow definition
{
  ...
  "tasks": [
    {
      "name": "set_variable",
      "taskReferenceName": "set_variable_ref",
      "type": "SET_VARIABLE",
      "inputParameters": {
        "region": "${workflow.input.location}"
      }
    },
    {
      "name": "http",
      "taskReferenceName": "http_ref",
      "inputParameters": {
        "uri": "https://orkes-api-tester.orkesconductor.com/api",
        "method": "GET",
        "accept": "application/json",
        "contentType": "application/json",
        "encode": true,
        "body": {
          "cacheKey": "${workflow.variables.region}",
          "someUnrelated": "Some-val-qvw4g"
        }
      },
      "type": "HTTP",
      "cacheConfig": {
        "key": "re_${body.cacheKey}",
        "ttlInSecond": 60
      }
    }
  ],
  "inputParameters": [
    "location"
  ],
  "outputParameters": {},
  "schemaVersion": 2
}
```

## Supported tasks

Caching is available for the following task types:

- [Worker (Simple)](../reference-docs/worker-task)
- [HTTP](../reference-docs/system-tasks/http)
- [HTTP Poll](../reference-docs/system-tasks/http-poll)
- [Business Rule](../reference-docs/system-tasks/business-rule)
- [SendGrid](/content/reference-docs/system-tasks/sendgrid)
- [JDBC](../reference-docs/system-tasks/jdbc)
- [Get Signed JWT](../reference-docs/system-tasks/get-signed-jwt)
- [gRPC](../reference-docs/system-tasks/grpc)
- [Opsgenie](../reference-docs/system-tasks/opsgenie)
- [Yield](/content/reference-docs/operators/yield)
- [LLM Text Complete](../reference-docs/ai-tasks/llm-text-complete)
- [LLM Generate Embeddings](../reference-docs/ai-tasks/llm-generate-embeddings)
- [LLM Store Embeddings](../reference-docs/ai-tasks/llm-store-embeddings.mdx)
- [LLM Get Embeddings](../reference-docs/ai-tasks/llm-get-embeddings)
- [LLLM Index Document](../reference-docs/ai-tasks/llm-index-document)
- [Get Document](../reference-docs/ai-tasks/llm-get-document)
- [LLM Index Text](../reference-docs/ai-tasks/llm-index-text)
- [LLM Search Index](../reference-docs/ai-tasks/llm-search-index)
- [LLM Chat Complete](../reference-docs/ai-tasks/llm-chat-complete.mdx)
- [Chunk Text](../reference-docs/ai-tasks/chunk-text)